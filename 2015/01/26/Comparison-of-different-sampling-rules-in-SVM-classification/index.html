<!DOCTYPE html><html><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=2"><meta name="theme-color" content="#222"><meta http-equiv="X-UA-Compatible" content="IE=edge"><link rel="apple-touch-icon" sizes="180x180" href="/blog/images/apple-touch-icon-next.png?v=7.3.0"><link rel="icon" type="image/png" sizes="32x32" href="/blog/images/favicon-32x32-next.png?v=7.3.0"><link rel="icon" type="image/png" sizes="16x16" href="/blog/images/favicon-16x16-next.png?v=7.3.0"><link rel="mask-icon" href="/blog/images/logo.svg?v=7.3.0" color="#222"><link rel="stylesheet" href="/blog/css/main.css?v=7.3.0"><link rel="stylesheet" href="/blog/lib/font-awesome/css/font-awesome.min.css?v=4.7.0"><script id="hexo-configurations">var NexT=window.NexT||{},CONFIG={root:"/blog/",scheme:"Muse",version:"7.3.0",exturl:!1,sidebar:{position:"left",display:"post",offset:12,onmobile:!1},copycode:{enable:!1,show_result:!1,style:null},back2top:{enable:!0,sidebar:!1,scrollpercent:!1},bookmark:{enable:!1,color:"#222",save:"auto"},fancybox:!1,mediumzoom:!1,lazyload:!1,pangu:!1,algolia:{appID:"",apiKey:"",indexName:"",hits:{per_page:10},labels:{input_placeholder:"Search for Posts",hits_empty:"We didn't find any results for the search: ${query}",hits_stats:"${hits} results found in ${time} ms"}},localsearch:{enable:!0,trigger:"auto",top_n_per_article:1,unescape:!1,preload:!1},path:"search.xml",motion:{enable:!0,async:!1,transition:{post_block:"fadeIn",post_header:"slideDownIn",post_body:"slideDownIn",coll_header:"slideLeftIn",sidebar:"slideUpIn"}},translation:{copy_button:"Copy",copy_success:"Copied",copy_failure:"Copy failed"}}</script><meta name="description" content="The problem of sampling rule in Support Vector Machine raised in the discussion when I was in the course Advanced Remote Sensing.The quality of training sample has deterministic influence to the accur"><meta name="keywords" content="remote sensing"><meta property="og:type" content="article"><meta property="og:title" content="Comparison of different sampling rules in SVM classification"><meta property="og:url" content="http://haoliangyu.github.io/blog/2015/01/26/Comparison-of-different-sampling-rules-in-SVM-classification/index.html"><meta property="og:site_name" content="Joe&#39;s Talk"><meta property="og:description" content="The problem of sampling rule in Support Vector Machine raised in the discussion when I was in the course Advanced Remote Sensing.The quality of training sample has deterministic influence to the accur"><meta property="og:locale" content="default"><meta property="og:image" content="http://haoliangyu.github.io/blog/2015/01/26/Comparison-of-different-sampling-rules-in-SVM-classification/testSample.png"><meta property="og:image" content="http://haoliangyu.github.io/blog/2015/01/26/Comparison-of-different-sampling-rules-in-SVM-classification/trainsample.png"><meta property="og:image" content="http://haoliangyu.github.io/blog/2015/01/26/Comparison-of-different-sampling-rules-in-SVM-classification/featurespace.png"><meta property="og:image" content="http://haoliangyu.github.io/blog/2015/01/26/Comparison-of-different-sampling-rules-in-SVM-classification/accuracytable.png"><meta property="og:image" content="http://haoliangyu.github.io/blog/2015/01/26/Comparison-of-different-sampling-rules-in-SVM-classification/accuracyfigure.png"><meta property="og:updated_time" content="2019-08-27T16:55:59.500Z"><meta name="twitter:card" content="summary"><meta name="twitter:title" content="Comparison of different sampling rules in SVM classification"><meta name="twitter:description" content="The problem of sampling rule in Support Vector Machine raised in the discussion when I was in the course Advanced Remote Sensing.The quality of training sample has deterministic influence to the accur"><meta name="twitter:image" content="http://haoliangyu.github.io/blog/2015/01/26/Comparison-of-different-sampling-rules-in-SVM-classification/testSample.png"><link rel="alternate" href="/blog/atom.xml" title="Joe's Talk" type="application/atom+xml"><link rel="canonical" href="http://haoliangyu.github.io/blog/2015/01/26/Comparison-of-different-sampling-rules-in-SVM-classification/"><script id="page-configurations">CONFIG.page={sidebar:"",isHome:!1,isPost:!0,isPage:!1,isArchive:!1}</script><title>Comparison of different sampling rules in SVM classification | Joe's Talk</title><meta name="generator" content="Hexo 3.9.0"><noscript><style>.sidebar-inner,.use-motion .brand,.use-motion .collection-header,.use-motion .comments,.use-motion .menu-item,.use-motion .pagination,.use-motion .post-block,.use-motion .post-body,.use-motion .post-header{opacity:initial}.use-motion .logo,.use-motion .site-subtitle,.use-motion .site-title{opacity:initial;top:initial}.use-motion .logo-line-before i{left:initial}.use-motion .logo-line-after i{right:initial}</style></noscript></head><body itemscope itemtype="http://schema.org/WebPage" lang="default"><div class="container use-motion"><div class="headband"></div><header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader"><div class="header-inner"><div class="site-brand-container"><div class="site-meta"><div><a href="/blog/" class="brand" rel="start"><span class="logo-line-before"><i></i></span> <span class="site-title">Joe's Talk</span> <span class="logo-line-after"><i></i></span></a></div></div><div class="site-nav-toggle"><button aria-label="Toggle navigation bar"><span class="btn-bar"></span> <span class="btn-bar"></span> <span class="btn-bar"></span></button></div></div><nav class="site-nav"><ul id="menu" class="menu"><li class="menu-item menu-item-home"><a href="/blog/" rel="section"><i class="menu-item-icon fa fa-fw fa-home"></i><br>Home</a></li><li class="menu-item menu-item-categories"><a href="/blog/categories/" rel="section"><i class="menu-item-icon fa fa-fw fa-th"></i><br>Categories</a></li><li class="menu-item menu-item-archives"><a href="/blog/archives/" rel="section"><i class="menu-item-icon fa fa-fw fa-archive"></i><br>Archives</a></li><li class="menu-item menu-item-search"><a href="javascript:;" class="popup-trigger"><i class="menu-item-icon fa fa-search fa-fw"></i><br>Search</a></li></ul></nav><div class="site-search"><div class="popup search-popup"><div class="search-header"><span class="search-icon"><i class="fa fa-search"></i></span><div class="search-input-container"><input autocomplete="off" autocorrect="off" autocapitalize="none" placeholder="Searching..." spellcheck="false" type="text" id="search-input"></div><span class="popup-btn-close"><i class="fa fa-times-circle"></i></span></div><div id="search-result"></div></div><div class="search-pop-overlay"></div></div></div></header><div class="back-to-top"><i class="fa fa-arrow-up"></i> <span>0%</span></div><main id="main" class="main"><div class="main-inner"><div class="content-wrap"><div id="content" class="content"><div id="posts" class="posts-expand"><article itemscope itemtype="http://schema.org/Article"><div class="post-block post"><link itemprop="mainEntityOfPage" href="http://haoliangyu.github.io/blog/blog/2015/01/26/Comparison-of-different-sampling-rules-in-SVM-classification/"><span hidden itemprop="author" itemscope itemtype="http://schema.org/Person"><meta itemprop="name" content="Haoliang Yu"><meta itemprop="description" content=""><meta itemprop="image" content="/blog/images/avatar.gif"></span><span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization"><meta itemprop="name" content="Joe's Talk"></span><header class="post-header"><h2 class="post-title" itemprop="name headline">Comparison of different sampling rules in SVM classification</h2><div class="post-meta"><span class="post-meta-item"><span class="post-meta-item-icon"><i class="fa fa-calendar-o"></i> </span><span class="post-meta-item-text">Posted on</span> <time title="Created: 2015-01-26 00:00:00" itemprop="dateCreated datePublished" datetime="2015-01-26T00:00:00+00:00">2015-01-26</time> </span><span class="post-meta-item"><span class="post-meta-item-icon"><i class="fa fa-calendar-check-o"></i> </span><span class="post-meta-item-text">Edited on</span> <time title="Modified: 2019-08-27 16:55:59" itemprop="dateModified" datetime="2019-08-27T16:55:59+00:00">2019-08-27</time> </span><span class="post-meta-item"><span class="post-meta-item-icon"><i class="fa fa-folder-o"></i> </span><span class="post-meta-item-text">In</span> <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/blog/categories/GIS/" itemprop="url" rel="index"><span itemprop="name">GIS</span></a></span> </span><span class="post-meta-item"><span class="post-meta-item-icon"><i class="fa fa-comment-o"></i> </span><span class="post-meta-item-text">Disqus: </span><a title="disqus" href="/blog/2015/01/26/Comparison-of-different-sampling-rules-in-SVM-classification/#comments" itemprop="discussionUrl"><span class="post-comments-count disqus-comment-count" data-disqus-identifier="2015/01/26/Comparison-of-different-sampling-rules-in-SVM-classification/" itemprop="commentCount"></span></a></span></div></header><div class="post-body" itemprop="articleBody"><p>The problem of sampling rule in Support Vector Machine raised in the discussion when I was in the course <em>Advanced Remote Sensing</em>.</p><p>The quality of training sample has deterministic influence to the accuracy of supervised classification methods. A properly designed sampling rule plays a substantial role in yielding an informative training sample set. The design of sampling strategy depends on both the characteristics of objects of interest and the applied classification methods.</p><a id="more"></a><p>Support Vector Machine (SVM) is an increasingly popular classification method for remote sensing image both in industry and research. As for the theory and concept of SVM, there have been many introductory articles such as [Roemer`s blog](<a href="http://rvlasveld.github.io/blog/2013/07/12/introduction-to-one-class-support-vector-machines/" target="_blank" rel="noopener">http://rvlasveld.github.io/blog/2013/07/12/introduction-to-one-class-support-vector-machines/</a>). Because support vectors are selected from training samples for maximizing the margin between classes, quality of sample set will decide the effectiveness of the hyperplane and affect the performance of the classifier.</p><p>In brief the mechanism of SVM is very different from traditional methods like Maximum Likelihood Classification. Here comes the question: <strong>Does the sampling rule used in traditional methods also work for SVM? How does the sampling rule affect the SVM classification result?</strong></p><h2 id="Experiment"><a href="#Experiment" class="headerlink" title="Experiment"></a>Experiment</h2><hr><p>To answer this question, I would like to set up a scenario for the classification experiment. In this case, I choose to perform a cloud detection based on Landsat 8 OLI image for two reasons:</p><ul><li><p>It is a most basic binary classification.</p></li><li><p>Cloud detection could be very challenging because thin cloud is very difficult to detect in many situations.</p></li></ul><p>I use an image with both thick cloud and thin cloud in order to increase the difficulty of classification (See Figure 1). <a href="http://landsat.usgs.gov/band_designations_landsat_satellites.php" target="_blank" rel="noopener">Band 2 to 7</a> are used and the SVM classifier in ENVI is utilized with default configuration. Four hundred pixels are randomly picked up as test sample: half of them are cloud (blue points) and the others are ground objects (yellow points).</p><img src="/blog/2015/01/26/Comparison-of-different-sampling-rules-in-SVM-classification/testSample.png" title="This is an example image"><h2 id="Sampling-Rules"><a href="#Sampling-Rules" class="headerlink" title="Sampling Rules"></a>Sampling Rules</h2><hr><p>I am particularly interested in three sample rules.</p><ul><li>Stratified random sampling</li></ul><p>This is a classic sample rule. Its idea is to randomly select training samples of one class from the sample pool of that class. The sample size of each class could be a fixed number or proportional to the size of sample pool of that class.</p><ul><li>Cluster sampling</li></ul><p>However, in practice random sampling is sometimes difficult to achieve, especially when the sample is selected by hand or a semi-automatic method. The sample pixels generally tend to be more clustering than random. (it is actually what we do in the ENVI class: drag a region of interest and treat it as sample set)</p><ul><li>Boundary sampling</li></ul><p>Its basic idea is that support vectors are likely also located near the geographical boundary of two classes. Although pixels located around geographic boundaries might contain spectral information of both classes to some extent, Foody and Mathur (2006) suggested that mixing pixels at two sides of ground object boundary could be highly effective in SVM even the sample size was very smaller. They considered this approach as a competitive alternative of conventional sampling strategy.</p><p>So I select three training sets based on above sampling rules (See Figure 2).</p><img src="/blog/2015/01/26/Comparison-of-different-sampling-rules-in-SVM-classification/trainsample.png" title="This is an example image"><h2 id="Training-set-in-feature-space"><a href="#Training-set-in-feature-space" class="headerlink" title="Training set in feature space"></a>Training set in feature space</h2><hr><p>While using the SVM, we hope that our training samples are located near the boundary of classes in the feature space. Figure 3 shows how samples in three training sets, as well as the test set, scatter at a feature space (red band vs. NIR band).</p><img src="/blog/2015/01/26/Comparison-of-different-sampling-rules-in-SVM-classification/featurespace.png" title="This is an example image"><p>Cloud has high reflectance in both red band and near infrared band, however, the reflectance of ground objects (most are vegetation) is low in red band and high in near infrared band. Due to the reflectance difference, samples in the feature space apparently belong to two distinct groups: cloud and ground objects. As shown in Figure 3, the distribution of samples in different training sets are totally different. Boundary sampling produced samples located near the boundary of two classes. Samples generated with stratified random sampling could better represent the overall characteristics of two classes. Clustering sampling within high confidence area would generate samples also clustering in the feature space.</p><h2 id="Result"><a href="#Result" class="headerlink" title="Result"></a>Result</h2><hr><p>The classification results are shown in Table 1 and Figure 4.</p><img src="/blog/2015/01/26/Comparison-of-different-sampling-rules-in-SVM-classification/accuracytable.png" title="This is an example image"> <img src="/blog/2015/01/26/Comparison-of-different-sampling-rules-in-SVM-classification/accuracyfigure.png" title="This is an example image"><p>The results, as expected, indicate that boundary sampling is able to generate better training sample and contribute to higher classification accuracy, compared to the other two sampling strategies.</p><p>ALl trained classifiers are also applied to the whole study image. Classifier trained with boundary samples is very sensitive to the difference between cloud and non-cloud pixels. It will try to differentiate all mixing pixels and this could be too sensitive. Classifier trained by cluster samples only recognizes thick cloud on the image and ignores pixels with mixing spectral information. Classifier trained by stratified random samples takes a balance between them: neither too aggressive nor too conventional. For detailed discussion, please read my report (see link below).</p><h2 id="Conclusion"><a href="#Conclusion" class="headerlink" title="Conclusion"></a>Conclusion</h2><hr><p>Let’s get back to our initial questions and their answers.</p><ul><li>Does the sampling rule used in traditional methods also work for SVM?</li></ul><p>Apparently the traditional stratified random sampling still works pretty well for the SVM classification. The classification accuracy in the experiment is about 90%, which is high enough for most situations.</p><ul><li>How does the sampling rule affect the SVM classification result?</li></ul><p>If we can use the portion of boundary (mixing) pixels in the training set to define sampling rule, we are able to build a link among three sampling rules used above. As we include more boundary pixels into the training set, the classifier would become more sensitive and have a better performance in identifying mixing objects. However, high sensitivity could also increase the error rate while identifying mixing objects. There is a trade-off between high sensitivity and low error rate within the selection of sampling strategies.</p><p>There is no generally appropriate sampling rule for all situations. However, depending on the need of classification, there exits an appropriate sampling rule for specific situation. Therefore, it is not difficult to understand why the stratified random sampling is still the first choice in practical use. Though classifier trained stratified random sampling is expected to have fair performance, it is less likely to be trapped into the problem of overestimation and underestimation.</p><h2 id="Link"><a href="#Link" class="headerlink" title="Link"></a>Link</h2><hr><p>This article is a simplified version of my project report. For more detail, please read my full report <a href="https://www.dropbox.com/s/yadta4jnuqgml9s/svm_sampling_report.pdf?dl=0" target="_blank" rel="noopener">A Comparison of Sampling Strategies in SVM Classification</a>.</p><h2 id="Reference"><a href="#Reference" class="headerlink" title="Reference"></a>Reference</h2><hr><p>[1] Foody, G. M. and A. Mathur (2006). “The use of small training sets containing mixed pixels for accurate hard image classification: Training on mixed spectral responses for classification by a SVM.” Remote Sensing of Environment 103(2): 179-189.</p><script>document.querySelectorAll('.github-emoji')
          .forEach(el => {
            if (!el.dataset.src) { return; }
            const img = document.createElement('img');
            img.style = 'display:none !important;';
            img.src = el.dataset.src;
            img.addEventListener('error', () => {
              img.remove();
              el.style.color = 'inherit';
              el.style.backgroundImage = 'none';
              el.style.background = 'none';
            });
            img.addEventListener('load', () => {
              img.remove();
            });
            document.body.appendChild(img);
          });</script></div><footer class="post-footer"><div class="post-tags"><a href="/blog/tags/remote-sensing/" rel="tag"># remote sensing</a></div><div class="post-nav"><div class="post-nav-next post-nav-item"><a href="/blog/2015/01/21/Pymasker/" rel="next" title="Pymasker"><i class="fa fa-chevron-left"></i> Pymasker</a></div><span class="post-nav-divider"></span><div class="post-nav-prev post-nav-item"><a href="/blog/2015/02/17/Editing-single-pixels-of-raster-layer-in-ArcMap-with-just-a-few-clicks/" rel="prev" title="Editing single pixels of raster layer in ArcMap with just a few clicks">Editing single pixels of raster layer in ArcMap with just a few clicks <i class="fa fa-chevron-right"></i></a></div></div></footer></div></article></div></div><div class="comments" id="comments"><div id="disqus_thread"><noscript>Please enable JavaScript to view the comments powered by Disqus.</noscript></div></div></div><div class="sidebar-toggle"><div class="sidebar-toggle-line-wrap"><span class="sidebar-toggle-line sidebar-toggle-line-first"></span> <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span> <span class="sidebar-toggle-line sidebar-toggle-line-last"></span></div></div><aside class="sidebar"><div class="sidebar-inner"><ul class="sidebar-nav motion-element"><li class="sidebar-nav-toc" data-target="post-toc-wrap">Table of Contents</li><li class="sidebar-nav-overview" data-target="site-overview-wrap">Overview</li></ul><div class="post-toc-wrap sidebar-panel"><div class="post-toc motion-element"><ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#Experiment"><span class="nav-number">1.</span> <span class="nav-text">Experiment</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Sampling-Rules"><span class="nav-number">2.</span> <span class="nav-text">Sampling Rules</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Training-set-in-feature-space"><span class="nav-number">3.</span> <span class="nav-text">Training set in feature space</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Result"><span class="nav-number">4.</span> <span class="nav-text">Result</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Conclusion"><span class="nav-number">5.</span> <span class="nav-text">Conclusion</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Link"><span class="nav-number">6.</span> <span class="nav-text">Link</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Reference"><span class="nav-number">7.</span> <span class="nav-text">Reference</span></a></li></ol></div></div><div class="site-overview-wrap sidebar-panel"><div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person"><p class="site-author-name" itemprop="name">Haoliang Yu</p><div class="site-description" itemprop="description"></div></div><nav class="site-state motion-element"><div class="site-state-item site-state-posts"><a href="/blog/archives/"><span class="site-state-item-count">22</span> <span class="site-state-item-name">posts</span></a></div><div class="site-state-item site-state-categories"><span class="site-state-item-count">6</span> <span class="site-state-item-name">categories</span></div><div class="site-state-item site-state-tags"><span class="site-state-item-count">20</span> <span class="site-state-item-name">tags</span></div></nav><div class="feed-link motion-element"><a href="/blog/atom.xml" rel="alternate"><i class="fa fa-rss"></i>RSS</a></div><div class="links-of-author motion-element"><span class="links-of-author-item"><a href="https://github.com/haoliangyu" title="GitHub &rarr; https://github.com/haoliangyu" rel="noopener" target="_blank"><i class="fa fa-fw fa-github"></i>GitHub</a></span></div></div></div></aside><div id="sidebar-dimmer"></div></div></main><footer id="footer" class="footer"><div class="footer-inner"><div class="copyright">&copy; <span itemprop="copyrightYear">2019</span> <span class="with-love" id="animate"><i class="fa fa-user"></i> </span><span class="author" itemprop="copyrightHolder">Haoliang Yu</span></div><div class="powered-by">Powered by <a href="https://hexo.io" class="theme-link" rel="noopener" target="_blank">Hexo</a> v3.9.0</div><span class="post-meta-divider">|</span><div class="theme-info">Theme – <a href="https://theme-next.org" class="theme-link" rel="noopener" target="_blank">NexT.Muse</a> v7.3.0</div></div></footer></div><script src="/blog/lib/jquery/index.js?v=3.4.1"></script><script src="/blog/lib/velocity/velocity.min.js?v=1.2.1"></script><script src="/blog/lib/velocity/velocity.ui.min.js?v=1.2.1"></script><script src="/blog/js/utils.js?v=7.3.0"></script><script src="/blog/js/motion.js?v=7.3.0"></script><script src="/blog/js/schemes/muse.js?v=7.3.0"></script><script src="/blog/js/next-boot.js?v=7.3.0"></script><script src="/blog/js/local-search.js?v=7.3.0"></script><script>function loadCount(){var d=document,t=d.createElement("script");t.src="https://dz316424.disqus.com/count.js",t.id="dsq-count-scr",(d.head||d.body).appendChild(t)}window.addEventListener("load",loadCount,!1)</script><script>function disqus_config(){this.page.url="http://haoliangyu.github.io/blog/2015/01/26/Comparison-of-different-sampling-rules-in-SVM-classification/",this.page.identifier="2015/01/26/Comparison-of-different-sampling-rules-in-SVM-classification/",this.page.title="Comparison of different sampling rules in SVM classification"}function loadComments(){if(window.DISQUS)DISQUS.reset({reload:!0,config:disqus_config});else{var i=document,e=i.createElement("script");e.src="https://dz316424.disqus.com/embed.js",e.setAttribute("data-timestamp",""+ +new Date),(i.head||i.body).appendChild(e)}}window.addEventListener("load",loadComments,!1)</script></body></html>