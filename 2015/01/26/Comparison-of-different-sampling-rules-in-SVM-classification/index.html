<!DOCTYPE html><html><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><title>Comparison of different sampling rules in SVM classification | Distributed Knowledge</title><meta name="description" content=""><meta name="keywords" content=""><meta name="HandheldFriendly" content="True"><meta name="apple-mobile-web-app-capable" content="yes"><link rel="shortcut icon" href="/blog/"><link rel="alternate" href="/blog/atom.xml" title="Distributed Knowledge"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1"><meta name="description" content="The problem of sampling rule in Support Vector Machine raised in the discussion when I was in the course Advanced Remote Sensing.The quality of training sample has deterministic influence to the accur"><meta name="keywords" content="remote sensing"><meta property="og:type" content="article"><meta property="og:title" content="Comparison of different sampling rules in SVM classification"><meta property="og:url" content="http://haoliangyu.github.io/blog/2015/01/26/Comparison-of-different-sampling-rules-in-SVM-classification/index.html"><meta property="og:site_name" content="Distributed Knowledge"><meta property="og:description" content="The problem of sampling rule in Support Vector Machine raised in the discussion when I was in the course Advanced Remote Sensing.The quality of training sample has deterministic influence to the accur"><meta property="og:updated_time" content="2018-03-03T20:45:36.114Z"><meta name="twitter:card" content="summary"><meta name="twitter:title" content="Comparison of different sampling rules in SVM classification"><meta name="twitter:description" content="The problem of sampling rule in Support Vector Machine raised in the discussion when I was in the course Advanced Remote Sensing.The quality of training sample has deterministic influence to the accur"><link href="https://fonts.googleapis.com/css?family=Inconsolata|Titillium+Web" rel="stylesheet"><link href="https://fonts.googleapis.com/css?family=Roboto+Mono" rel="stylesheet"><link href="//cdn.bootcss.com/node-waves/0.7.5/waves.min.css" rel="stylesheet"><link rel="stylesheet" href="/blog/style.css"><script>function setLoadingBarProgress(e){document.getElementById("loading-bar").style.width=e+"%"}</script><script async src="https://www.googletagmanager.com/gtag/js?id=UA-117921545-1"></script><script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","UA-117921545-1")</script></head></html><body><div id="loading-bar-wrapper"><div id="loading-bar"></div></div><script>setLoadingBarProgress(20)</script><header class="l_header"><div class="wrapper"><div class="nav-main container container--flex"><a class="logo flat-box" href="/blog/">Distributed Knowledge</a><div class="menu"><ul class="h-list"><li><a class="flat-box nav-home" href="/blog/">Home</a></li><li><a class="flat-box nav-archives" href="/blog/archives">Archives</a></li></ul><div class="underline"></div></div><div class="m_search"><form name="searchform" class="form u-search-form"><input type="text" class="input u-search-input" placeholder="Search"> <span class="icon icon-search"></span></form></div><ul class="switcher h-list"><li class="s-search"><a href="javascript:void(0)"><span class="icon icon-search flat-box"></span></a></li><li class="s-menu"><a href="javascript:void(0)"><span class="icon icon-menu flat-box"></span></a></li></ul></div><div class="nav-sub container container--flex"><a class="logo" class="flat-box" href="javascript:void(0)">Word of Forks</a><ul class="switcher h-list"><li class="s-comment"><a href="javascript:void(0)"><span class="icon icon-chat_bubble_outline flat-box"></span></a></li><li class="s-top"><a href="javascript:void(0)"><span class="icon icon-arrow_upward flat-box"></span></a></li><li class="s-toc"><a href="javascript:void(0)"><span class="icon icon-format_list_numbered flat-box"></span></a></li></ul></div></div></header><aside class="menu-phone"><nav><a href="/blog/" class="nav-home nav">Home </a><a href="/blog/archives" class="nav-archives nav">Archives</a></nav></aside><script>setLoadingBarProgress(40)</script><div class="l_body"><div class="container clearfix"><div class="l_main"><article id="post-Comparison-of-different-sampling-rules-in-SVM-classification" class="post white-box article-type-post" itemscope itemprop="blogPost"><section class="meta"><h2 class="title"><a href="/blog/2015/01/26/Comparison-of-different-sampling-rules-in-SVM-classification/">Comparison of different sampling rules in SVM classification</a></h2><time>Jan 26, 2015</time><div class="cats"><a href="/blog/categories/GIS/">GIS</a></div></section><section class="toc-wrapper"><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#Experiment"><span class="toc-number">1.</span> <span class="toc-text">Experiment</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Sampling-Rules"><span class="toc-number">2.</span> <span class="toc-text">Sampling Rules</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Training-set-in-feature-space"><span class="toc-number">3.</span> <span class="toc-text">Training set in feature space</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Result"><span class="toc-number">4.</span> <span class="toc-text">Result</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Conclusion"><span class="toc-number">5.</span> <span class="toc-text">Conclusion</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Link"><span class="toc-number">6.</span> <span class="toc-text">Link</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Reference"><span class="toc-number">7.</span> <span class="toc-text">Reference</span></a></li></ol></section><section class="article typo"><div class="article-entry" itemprop="articleBody"><p>The problem of sampling rule in Support Vector Machine raised in the discussion when I was in the course <em>Advanced Remote Sensing</em>.</p><p>The quality of training sample has deterministic influence to the accuracy of supervised classification methods. A properly designed sampling rule plays a substantial role in yielding an informative training sample set. The design of sampling strategy depends on both the characteristics of objects of interest and the applied classification methods.<br><a id="more"></a><br>Support Vector Machine (SVM) is an increasingly popular classification method for remote sensing image both in industry and research. As for the theory and concept of SVM, there have been many introductory articles such as <a href="http://rvlasveld.github.io/blog/2013/07/12/introduction-to-one-class-support-vector-machines/" target="_blank" rel="noopener">Roemer`s blog</a>. Because support vectors are selected from training samples for maximizing the margin between classes, quality of sample set will decide the effectiveness of the hyperplane and affect the performance of the classifier.</p><p>In brief the mechanism of SVM is very different from traditional methods like Maximum Likelihood Classification. Here comes the question: <strong>Does the sampling rule used in traditional methods also work for SVM? How does the sampling rule affect the SVM classification result?</strong></p><h2 id="Experiment"><a href="#Experiment" class="headerlink" title="Experiment"></a>Experiment</h2><hr><p>To answer this question, I would like to set up a scenario for the classification experiment. In this case, I choose to perform a cloud detection based on Landsat 8 OLI image for two reasons:</p><ul><li><p>It is a most basic binary classification.</p></li><li><p>Cloud detection could be very challenging because thin cloud is very difficult to detect in many situations.</p></li></ul><p>I use an image with both thick cloud and thin cloud in order to increase the difficulty of classification (See Figure 1). <a href="http://landsat.usgs.gov/band_designations_landsat_satellites.php" target="_blank" rel="noopener">Band 2 to 7</a> are used and the SVM classifier in ENVI is utilized with default configuration. Four hundred pixels are randomly picked up as test sample: half of them are cloud (blue points) and the others are ground objects (yellow points).</p><h2 id="Sampling-Rules"><a href="#Sampling-Rules" class="headerlink" title="Sampling Rules"></a>Sampling Rules</h2><hr><p>I am particularly interested in three sample rules.</p><ul><li>Stratified random sampling</li></ul><p>This is a classic sample rule. Its idea is to randomly select training samples of one class from the sample pool of that class. The sample size of each class could be a fixed number or proportional to the size of sample pool of that class.</p><ul><li>Cluster sampling</li></ul><p>However, in practice random sampling is sometimes difficult to achieve, especially when the sample is selected by hand or a semi-automatic method. The sample pixels generally tend to be more clustering than random. (it is actually what we do in the ENVI class: drag a region of interest and treat it as sample set)</p><ul><li>Boundary sampling</li></ul><p>Its basic idea is that support vectors are likely also located near the geographical boundary of two classes. Although pixels located around geographic boundaries might contain spectral information of both classes to some extent, Foody and Mathur (2006) suggested that mixing pixels at two sides of ground object boundary could be highly effective in SVM even the sample size was very smaller. They considered this approach as a competitive alternative of conventional sampling strategy.</p><p>So I select three training sets based on above sampling rules (See Figure 2).</p><h2 id="Training-set-in-feature-space"><a href="#Training-set-in-feature-space" class="headerlink" title="Training set in feature space"></a>Training set in feature space</h2><hr><p>While using the SVM, we hope that our training samples are located near the boundary of classes in the feature space. Figure 3 shows how samples in three training sets, as well as the test set, scatter at a feature space (red band vs. NIR band).</p><p>Cloud has high reflectance in both red band and near infrared band, however, the reflectance of ground objects (most are vegetation) is low in red band and high in near infrared band. Due to the reflectance difference, samples in the feature space apparently belong to two distinct groups: cloud and ground objects. As shown in Figure 3, the distribution of samples in different training sets are totally different. Boundary sampling produced samples located near the boundary of two classes. Samples generated with stratified random sampling could better represent the overall characteristics of two classes. Clustering sampling within high confidence area would generate samples also clustering in the feature space.</p><h2 id="Result"><a href="#Result" class="headerlink" title="Result"></a>Result</h2><hr><p>The classification results are shown in Table 1 and Figure 4.</p><p>The results, as expected, indicate that boundary sampling is able to generate better training sample and contribute to higher classification accuracy, compared to the other two sampling strategies.</p><p>ALl trained classifiers are also applied to the whole study image. Classifier trained with boundary samples is very sensitive to the difference between cloud and non-cloud pixels. It will try to differentiate all mixing pixels and this could be too sensitive. Classifier trained by cluster samples only recognizes thick cloud on the image and ignores pixels with mixing spectral information. Classifier trained by stratified random samples takes a balance between them: neither too aggressive nor too conventional. For detailed discussion, please read my report (see link below).</p><h2 id="Conclusion"><a href="#Conclusion" class="headerlink" title="Conclusion"></a>Conclusion</h2><hr><p>Let’s get back to our initial questions and their answers.</p><ul><li>Does the sampling rule used in traditional methods also work for SVM?</li></ul><p>Apparently the traditional stratified random sampling still works pretty well for the SVM classification. The classification accuracy in the experiment is about 90%, which is high enough for most situations.</p><ul><li>How does the sampling rule affect the SVM classification result?</li></ul><p>If we can use the portion of boundary (mixing) pixels in the training set to define sampling rule, we are able to build a link among three sampling rules used above. As we include more boundary pixels into the training set, the classifier would become more sensitive and have a better performance in identifying mixing objects. However, high sensitivity could also increase the error rate while identifying mixing objects. There is a trade-off between high sensitivity and low error rate within the selection of sampling strategies.</p><p>There is no generally appropriate sampling rule for all situations. However, depending on the need of classification, there exits an appropriate sampling rule for specific situation. Therefore, it is not difficult to understand why the stratified random sampling is still the first choice in practical use. Though classifier trained stratified random sampling is expected to have fair performance, it is less likely to be trapped into the problem of overestimation and underestimation.</p><h2 id="Link"><a href="#Link" class="headerlink" title="Link"></a>Link</h2><hr><p>This article is a simplified version of my project report. For more detail, please read my full report <a href="https://www.dropbox.com/s/yadta4jnuqgml9s/svm_sampling_report.pdf?dl=0" target="_blank" rel="noopener">A Comparison of Sampling Strategies in SVM Classification</a>.</p><h2 id="Reference"><a href="#Reference" class="headerlink" title="Reference"></a>Reference</h2><hr><p>[1] Foody, G. M. and A. Mathur (2006). “The use of small training sets containing mixed pixels for accurate hard image classification: Training on mixed spectral responses for classification by a SVM.” Remote Sensing of Environment 103(2): 179-189.</p></div><div class="article-tags tags"><a href="/blog/tags/remote-sensing/">remote sensing</a></div><div class="art-item-footer"><span class="art-item-left"><i class="icon icon-chevron-thin-left"></i>prev：<a href="/blog/2015/02/18/Editing-single-pixels-of-raster-layer-in-ArcMap-with-just-a-few-clicks/" rel="prev" title="Editing single pixels of raster layer in ArcMap with just a few clicks"> Editing single pixels of raster layer in ArcMap with just a few clicks </a></span><span class="art-item-right">next：<a href="/blog/2015/01/22/Pymasker/" rel="next" title="Pymasker"> Pymasker </a><i class="icon icon-chevron-thin-right"></i></span></div></section><section id="comments"><div id="disqus_thread"></div></section></article><script>window.subData={title:"Comparison of different sampling rules in SVM classification",tools:!0}</script></div><aside class="l_side"><section class="m_widget about"><div class="header">Haoliang Yu</div><div class="content"><div class="desc">I am a software engineer at Esri DC R&amp;D, working on open data publication and discovery. I love to play with data, cloud computing, and distributed network. I also co-organize MaptimeBUF and speak at variou meetups/conferences.</div></div></section><section class="m_widget links"><div class="header">Links</div><div class="content"><ul class="entry"><li><a class="flat-box" target="_blank" href="https://github.com/haoliangyu"><div class="name">GitHub</div></a></li><li><a class="flat-box" target="_blank" href="https://www.linkedin.com/in/haoliangyu/"><div class="name">LinkedIn</div></a></li><li><a class="flat-box" target="_blank" href="http://dc.esri.com/"><div class="name">EsriDC</div></a></li></ul></div></section><section class="m_widget categories"><div class="header">Categories</div><div class="content"><ul class="entry"><li><a class="flat-box" href="/blog/categories/AWS/"><div class="name">AWS</div><div class="badget">1</div></a></li><li><a class="flat-box" href="/blog/categories/GIS/"><div class="name">GIS</div><div class="badget">14</div></a></li><li><a class="flat-box" href="/blog/categories/Life/"><div class="name">Life</div><div class="badget">1</div></a></li><li><a class="flat-box" href="/blog/categories/Open-Data/"><div class="name">Open Data</div><div class="badget">1</div></a></li><li><a class="flat-box" href="/blog/categories/Project/"><div class="name">Project</div><div class="badget">4</div></a></li></ul></div></section><div class="m_widget tagcloud"><div class="header">Tags</div><div class="content"><a href="/blog/tags/C/" style="font-size:14px;color:grey">C#</a> <a href="/blog/tags/OpenDataDiscovery-org/" style="font-size:15.2px;color:#666">OpenDataDiscovery.org</a> <a href="/blog/tags/arcgis/" style="font-size:18.8px;color:#1a1a1a">arcgis</a> <a href="/blog/tags/arcobject/" style="font-size:14px;color:grey">arcobject</a> <a href="/blog/tags/aws/" style="font-size:14px;color:grey">aws</a> <a href="/blog/tags/ci/" style="font-size:14px;color:grey">ci</a> <a href="/blog/tags/deloyment/" style="font-size:14px;color:grey">deloyment</a> <a href="/blog/tags/geojson/" style="font-size:15.2px;color:#666">geojson</a> <a href="/blog/tags/gis/" style="font-size:20px;color:#000">gis</a> <a href="/blog/tags/javascript/" style="font-size:15.2px;color:#666">javascript</a> <a href="/blog/tags/landsat/" style="font-size:15.2px;color:#666">landsat</a> <a href="/blog/tags/leaflet/" style="font-size:16.4px;color:#4d4d4d">leaflet</a> <a href="/blog/tags/modis/" style="font-size:14px;color:grey">modis</a> <a href="/blog/tags/open-data/" style="font-size:17.6px;color:#333">open data</a> <a href="/blog/tags/openstreetmap/" style="font-size:14px;color:grey">openstreetmap</a> <a href="/blog/tags/project/" style="font-size:16.4px;color:#4d4d4d">project</a> <a href="/blog/tags/python/" style="font-size:16.4px;color:#4d4d4d">python</a> <a href="/blog/tags/remote-sensing/" style="font-size:17.6px;color:#333">remote sensing</a> <a href="/blog/tags/typescript/" style="font-size:16.4px;color:#4d4d4d">typescript</a></div></div></aside><script>setLoadingBarProgress(60)</script></div></div><footer id="footer" class="clearfix"><div class="social-wrapper"><a href="https://github.com/haoliangyu" class="social github" target="_blank" rel="external"><span class="icon icon-github"></span> </a><a href="/atom.xml" class="social rss" target="_blank" rel="external"><span class="icon icon-rss"></span></a></div><div>A blog built by Haoliang Yu</div></footer><script>setLoadingBarProgress(80)</script><script>var disqus_shortname="dz316424",disqus_url="http://haoliangyu.github.io/blog/2015/01/26/Comparison-of-different-sampling-rules-in-SVM-classification/";!function(){var e=document.createElement("script");e.type="text/javascript",e.async=!0,e.src="//"+disqus_shortname+".disqus.com/embed.js",(document.getElementsByTagName("head")[0]||document.getElementsByTagName("body")[0]).appendChild(e)}()</script><script src="//apps.bdimg.com/libs/jquery/2.1.4/jquery.min.js"></script><script src="//cdn.bootcss.com/node-waves/0.7.5/waves.min.js"></script><script src="//cdn.bootcss.com/scrollReveal.js/3.3.2/scrollreveal.min.js"></script><script src="/blog/js/jquery.fitvids.js"></script><script>var GOOGLE_CUSTOM_SEARCH_API_KEY="",GOOGLE_CUSTOM_SEARCH_ENGINE_ID="",ALGOLIA_API_KEY="",ALGOLIA_APP_ID="",ALGOLIA_INDEX_NAME="",AZURE_SERVICE_NAME="",AZURE_INDEX_NAME="",AZURE_QUERY_KEY="",BAIDU_API_ID="",SEARCH_SERVICE="hexo",ROOT="/blog/";ROOT.endsWith("/")||(ROOT+="/")</script><script src="/blog/js/search.js"></script><script src="/blog/js/app.js"></script><script>setLoadingBarProgress(100)</script></body>