var customSearch;!function(e){"use strict";const t=70;function a(a,o){o=o||t;const n=a.href?e(a.getAttribute("href")):e(a);e("html, body").animate({scrollTop:n.offset().top-o},400)}e(function(){var o;!function(){if(!window.subData)return;const t=e("header .wrapper"),o=e(".s-comment",t),n=e(".s-toc",t),s=e(".s-top",t);t.find(".nav-sub .logo").text(window.subData.title);let c=document.body.scrollTop;e(document,window).scroll(()=>{const a=e(window).scrollTop(),o=a-c;o>=20?(c=a,t.addClass("sub")):o<=-20&&(c=a,t.removeClass("sub"))});const i=e("#comments");i.length?o.click(e=>{e.preventDefault(),e.stopPropagation(),a(i)}):o.remove();const l=e(".toc-wrapper");l.length&&l.children().length?n.click(e=>{e.stopPropagation(),l.toggleClass("active")}):n.remove(),s.click(()=>a(document.body))}(),function(){var t=e("header .menu"),a=t.find(".underline");function o(e,o){e=e||t.find("li a.active"),(o=void 0===o||!!o)||a.addClass("disable-trans"),e&&e.length?(e.addClass("active").siblings().removeClass("active"),a.css({left:e.position().left,width:e.innerWidth()})):a.css({left:0,width:0}),o||setTimeout(function(){a.removeClass("disable-trans")},0)}t.on("mouseenter","li",function(t){o(e(t.currentTarget))}),t.on("mouseout",function(){o()});var n=null;if("/"===location.pathname||location.pathname.startsWith("/page/"))n=e(".nav-home",t);else{var s=location.pathname.match(/\/(.*?)\//);s.length>1&&(n=e(".nav-"+s[1],t))}o(n,!1)}(),(o=e(".l_header .switcher .s-menu")).click(function(t){t.stopPropagation(),e("body").toggleClass("z_menu-open"),o.toggleClass("active")}),e(document).click(function(t){e("body").removeClass("z_menu-open"),o.removeClass("active")}),function(){var t=e(".l_header .switcher .s-search"),a=e(".l_header"),o=e(".l_header .m_search");0!==t.length&&(t.click(function(e){e.stopPropagation(),a.toggleClass("z_search-open"),o.find("input").focus()}),e(document).click(function(e){a.removeClass("z_search-open")}),o.click(function(e){e.stopPropagation()}))}(),Waves.attach(".flat-btn",["waves-button"]),Waves.attach(".float-btn",["waves-button","waves-float"]),Waves.attach(".float-btn-light",["waves-button","waves-float","waves-light"]),Waves.attach(".flat-box",["waves-block"]),Waves.attach(".float-box",["waves-block","waves-float"]),Waves.attach(".waves-image"),Waves.init(),0!==e(".reveal").length&&ScrollReveal({distance:0}).reveal(".reveal"),function(){const o=e(".toc-wrapper");if(0===o.length)return;o.click(e=>{e.stopPropagation(),o.addClass("active")}),e(document).click(()=>o.removeClass("active")),o.on("click","a",e=>{e.preventDefault(),e.stopPropagation(),a("a"===e.target.tagName.toLowerCase?e.target:e.target.parentElement)});const n=Array.from(o.find("li a")),s=()=>n.map(a=>Math.floor(e(a.getAttribute("href")).offset().top-t));let c=s();const i=()=>{const t=e("html").scrollTop()||e("body").scrollTop();if(!c)return;let a,o=0,s=c.length-1;for(;o<s;)c[a=o+s+1>>1]===t?o=s=a:c[a]<t?o=a:s=a-1;e(n).removeClass("active").eq(o).addClass("active")};e(window).resize(()=>{c=s(),i()}).scroll(()=>{i()}),i()}(),e(".article .video-container").fitVids(),setTimeout(function(){e("#loading-bar-wrapper").fadeOut(500)},300),"google"===SEARCH_SERVICE?customSearch=new GoogleCustomSearch({apiKey:GOOGLE_CUSTOM_SEARCH_API_KEY,engineId:GOOGLE_CUSTOM_SEARCH_ENGINE_ID,imagePath:"/images/"}):"algolia"===SEARCH_SERVICE?customSearch=new AlgoliaSearch({apiKey:ALGOLIA_API_KEY,appId:ALGOLIA_APP_ID,indexName:ALGOLIA_INDEX_NAME,imagePath:"/images/"}):"hexo"===SEARCH_SERVICE?customSearch=new HexoSearch({imagePath:"/images/"}):"azure"===SEARCH_SERVICE?customSearch=new AzureSearch({serviceName:AZURE_SERVICE_NAME,indexName:AZURE_INDEX_NAME,queryKey:AZURE_QUERY_KEY,imagePath:"/images/"}):"baidu"===SEARCH_SERVICE&&(customSearch=new BaiduSearch({apiId:BAIDU_API_ID,imagePath:"/images/"}))})}(jQuery);