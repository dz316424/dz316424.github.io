<!DOCTYPE html><html><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=2"><meta name="theme-color" content="#222"><meta http-equiv="X-UA-Compatible" content="IE=edge"><link rel="apple-touch-icon" sizes="180x180" href="/blog/images/apple-touch-icon-next.png?v=7.3.0"><link rel="icon" type="image/png" sizes="32x32" href="/blog/images/favicon-32x32-next.png?v=7.3.0"><link rel="icon" type="image/png" sizes="16x16" href="/blog/images/favicon-16x16-next.png?v=7.3.0"><link rel="mask-icon" href="/blog/images/logo.svg?v=7.3.0" color="#222"><link rel="stylesheet" href="/blog/css/main.css?v=7.3.0"><link rel="stylesheet" href="/blog/lib/font-awesome/css/font-awesome.min.css?v=4.7.0"><script id="hexo-configurations">var NexT=window.NexT||{},CONFIG={root:"/blog/",scheme:"Muse",version:"7.3.0",exturl:!1,sidebar:{position:"left",display:"post",offset:12,onmobile:!1},copycode:{enable:!1,show_result:!1,style:null},back2top:{enable:!0,sidebar:!1,scrollpercent:!1},bookmark:{enable:!1,color:"#222",save:"auto"},fancybox:!1,mediumzoom:!1,lazyload:!1,pangu:!1,algolia:{appID:"",apiKey:"",indexName:"",hits:{per_page:10},labels:{input_placeholder:"Search for Posts",hits_empty:"We didn't find any results for the search: ${query}",hits_stats:"${hits} results found in ${time} ms"}},localsearch:{enable:!0,trigger:"auto",top_n_per_article:1,unescape:!1,preload:!1},path:"search.xml",motion:{enable:!0,async:!1,transition:{post_block:"fadeIn",post_header:"slideDownIn",post_body:"slideDownIn",coll_header:"slideLeftIn",sidebar:"slideUpIn"}},translation:{copy_button:"Copy",copy_success:"Copied",copy_failure:"Copy failed"}}</script><meta name="description" content="This article discusses how to build a continuous deployment pipeline for an AWS ECS application using Travis CI."><meta name="keywords" content="aws,ci,deloyment"><meta property="og:type" content="article"><meta property="og:title" content="AWS ECS continuous deployment with Travis CI"><meta property="og:url" content="http://haoliangyu.github.io/blog/2018/03/19/AWS-ECS-auto-deployment-with-Travis-CI/index.html"><meta property="og:site_name" content="Joe&#39;s Talk"><meta property="og:description" content="This article discusses how to build a continuous deployment pipeline for an AWS ECS application using Travis CI."><meta property="og:locale" content="default"><meta property="og:image" content="http://haoliangyu.github.io/blog/2018/03/19/AWS-ECS-auto-deployment-with-Travis-CI/travis-env.png"><meta property="og:image" content="http://haoliangyu.github.io/blog/2018/03/19/AWS-ECS-auto-deployment-with-Travis-CI/travis-deploy.png"><meta property="og:updated_time" content="2018-04-22T00:00:00.000Z"><meta name="twitter:card" content="summary"><meta name="twitter:title" content="AWS ECS continuous deployment with Travis CI"><meta name="twitter:description" content="This article discusses how to build a continuous deployment pipeline for an AWS ECS application using Travis CI."><meta name="twitter:image" content="http://haoliangyu.github.io/blog/2018/03/19/AWS-ECS-auto-deployment-with-Travis-CI/travis-env.png"><link rel="alternate" href="/blog/atom.xml" title="Joe's Talk" type="application/atom+xml"><link rel="canonical" href="http://haoliangyu.github.io/blog/2018/03/19/AWS-ECS-auto-deployment-with-Travis-CI/"><script id="page-configurations">CONFIG.page={sidebar:"",isHome:!1,isPost:!0,isPage:!1,isArchive:!1}</script><title>AWS ECS continuous deployment with Travis CI | Joe's Talk</title><meta name="generator" content="Hexo 3.9.0"><noscript><style>.sidebar-inner,.use-motion .brand,.use-motion .collection-header,.use-motion .comments,.use-motion .menu-item,.use-motion .pagination,.use-motion .post-block,.use-motion .post-body,.use-motion .post-header{opacity:initial}.use-motion .logo,.use-motion .site-subtitle,.use-motion .site-title{opacity:initial;top:initial}.use-motion .logo-line-before i{left:initial}.use-motion .logo-line-after i{right:initial}</style></noscript></head><body itemscope itemtype="http://schema.org/WebPage" lang="default"><div class="container use-motion"><div class="headband"></div><header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader"><div class="header-inner"><div class="site-brand-container"><div class="site-meta"><div><a href="/blog/" class="brand" rel="start"><span class="logo-line-before"><i></i></span> <span class="site-title">Joe's Talk</span> <span class="logo-line-after"><i></i></span></a></div></div><div class="site-nav-toggle"><button aria-label="Toggle navigation bar"><span class="btn-bar"></span> <span class="btn-bar"></span> <span class="btn-bar"></span></button></div></div><nav class="site-nav"><ul id="menu" class="menu"><li class="menu-item menu-item-home"><a href="/blog/" rel="section"><i class="menu-item-icon fa fa-fw fa-home"></i><br>Home</a></li><li class="menu-item menu-item-categories"><a href="/blog/categories/" rel="section"><i class="menu-item-icon fa fa-fw fa-th"></i><br>Categories</a></li><li class="menu-item menu-item-archives"><a href="/blog/archives/" rel="section"><i class="menu-item-icon fa fa-fw fa-archive"></i><br>Archives</a></li><li class="menu-item menu-item-search"><a href="javascript:;" class="popup-trigger"><i class="menu-item-icon fa fa-search fa-fw"></i><br>Search</a></li></ul></nav><div class="site-search"><div class="popup search-popup"><div class="search-header"><span class="search-icon"><i class="fa fa-search"></i></span><div class="search-input-container"><input autocomplete="off" autocorrect="off" autocapitalize="none" placeholder="Searching..." spellcheck="false" type="text" id="search-input"></div><span class="popup-btn-close"><i class="fa fa-times-circle"></i></span></div><div id="search-result"></div></div><div class="search-pop-overlay"></div></div></div></header><div class="back-to-top"><i class="fa fa-arrow-up"></i> <span>0%</span></div><main id="main" class="main"><div class="main-inner"><div class="content-wrap"><div id="content" class="content"><div id="posts" class="posts-expand"><article itemscope itemtype="http://schema.org/Article"><div class="post-block post"><link itemprop="mainEntityOfPage" href="http://haoliangyu.github.io/blog/blog/2018/03/19/AWS-ECS-auto-deployment-with-Travis-CI/"><span hidden itemprop="author" itemscope itemtype="http://schema.org/Person"><meta itemprop="name" content="Haoliang Yu"><meta itemprop="description" content=""><meta itemprop="image" content="/blog/images/avatar.gif"></span><span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization"><meta itemprop="name" content="Joe's Talk"></span><header class="post-header"><h2 class="post-title" itemprop="name headline">AWS ECS continuous deployment with Travis CI</h2><div class="post-meta"><span class="post-meta-item"><span class="post-meta-item-icon"><i class="fa fa-calendar-o"></i> </span><span class="post-meta-item-text">Posted on</span> <time title="Created: 2018-03-19 00:00:00" itemprop="dateCreated datePublished" datetime="2018-03-19T00:00:00+00:00">2018-03-19</time> </span><span class="post-meta-item"><span class="post-meta-item-icon"><i class="fa fa-calendar-check-o"></i> </span><span class="post-meta-item-text">Edited on</span> <time title="Modified: 2018-04-22 00:00:00" itemprop="dateModified" datetime="2018-04-22T00:00:00+00:00">2018-04-22</time> </span><span class="post-meta-item"><span class="post-meta-item-icon"><i class="fa fa-folder-o"></i> </span><span class="post-meta-item-text">In</span> <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/blog/categories/AWS/" itemprop="url" rel="index"><span itemprop="name">AWS</span></a></span> </span><span class="post-meta-item"><span class="post-meta-item-icon"><i class="fa fa-comment-o"></i> </span><span class="post-meta-item-text">Disqus: </span><a title="disqus" href="/blog/2018/03/19/AWS-ECS-auto-deployment-with-Travis-CI/#comments" itemprop="discussionUrl"><span class="post-comments-count disqus-comment-count" data-disqus-identifier="2018/03/19/AWS-ECS-auto-deployment-with-Travis-CI/" itemprop="commentCount"></span></a></span></div></header><div class="post-body" itemprop="articleBody"><p>This article discusses how to build a continuous deployment pipeline for an <a href="https://aws.amazon.com/ecs/" target="_blank" rel="noopener">AWS ECS</a> application using <a href="https://travis-ci.org" target="_blank" rel="noopener">Travis CI</a>.</p><a id="more"></a><h2 id="Problem"><a href="#Problem" class="headerlink" title="Problem"></a>Problem</h2><p>Deploying a docker-base application to the AWS ECS is a tedious task. It requires to push the image to an image repository, create a new task definition with that image, and update the service with the new definition. It is quick but repetitive.</p><p>In large organizations that have rapid deployment cycles, such tasks are usually taken care by CI/CD pipelines, like <a href="https://jenkins.io/index.html" target="_blank" rel="noopener">Jenkins</a>. But for a personal side project<a href="https://jenkins.io/index.html" target="_blank" rel="noopener">https://jenkins.io/index.html</a>, a dedicated CI/CD system is not affordable and it is an overkill lto use</p><p><a href="https://travis-ci.org" target="_blank" rel="noopener">Travis CI</a> is a continuous deployment service that provides free integration and service with public GitHub repositories. If you develop an open-source project at GitHub and add a <code>.travis.yml</code> file, Travis CI can connect with the repository and react to any code change.</p><p>This article assumes you have basic knowledge on AWS ECS and Travis CI.</p><h2 id="Script-Deployment-in-Travis-CI"><a href="#Script-Deployment-in-Travis-CI" class="headerlink" title="Script Deployment in Travis CI"></a>Script Deployment in Travis CI</h2><p>The requirement of the continuous deployment to AWS ECS is simple. Every time a pull request to the master branch is merged, the Travis CI should be noticed and perform the continuous deployment.</p><p>The deployment to AWS ECS requires custom operations and it is not automated by the Travis CI yet. To support sophisticated deployment operations, the Travis CI provides <a href="https://docs.travis-ci.com/user/deployment/script/" target="_blank" rel="noopener">Script Deployment</a> and it allows the developer to execute a specified script for deployment.</p><p>It can be activated by adding a new <code>deploy</code> section in the <code>.travis.yml</code> file in the project repository.</p><figure class="highlight yaml"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># deployment section in the .travis.yml</span></span><br><span class="line"><span class="attr">deploy:</span></span><br><span class="line"><span class="attr">  provider:</span> <span class="string">script</span></span><br><span class="line">  <span class="comment"># specify the deployment script</span></span><br><span class="line"><span class="attr">  script:</span> <span class="string">bash</span> <span class="string">deploy.sh</span></span><br><span class="line">  <span class="comment"># specify to deploy with code change a given branch</span></span><br><span class="line"><span class="attr">  on:</span></span><br><span class="line"><span class="attr">    branch:</span> <span class="string">develop</span></span><br></pre></td></tr></tbody></table></figure><h2 id="Deployment-Script"><a href="#Deployment-Script" class="headerlink" title="Deployment Script"></a>Deployment Script</h2><p>The next step is to define tasks for the deployment. We would like to define more repetitive tasks for the Travis CI and leave the most important action to the developer, like clicking the <code>Merge</code> button at the GitHub PR.</p><p>Specifically, these steps are required:</p><ol><li>build the docker image from the source code</li><li>tag the docker image as <code>latest</code></li><li>push the docker image to an image repository</li><li>update the AWS ECS application with the new image</li></ol><p>The first three steps could be done with the <a href="https://docs.docker.com/engine/reference/commandline/cli/" target="_blank" rel="noopener">docker CLI</a>. The fourth step actually includes many interactions with AWS, but a very nice library called <a href="https://github.com/silinternational/ecs-deploy" target="_blank" rel="noopener">ecs-deploy</a> could do all things with one line of command!</p><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># install AWS SDK</span></span><br><span class="line">pip install --user awscli</span><br><span class="line"><span class="built_in">export</span> PATH=<span class="variable">$PATH</span>:<span class="variable">$HOME</span>/.<span class="built_in">local</span>/bin</span><br><span class="line"></span><br><span class="line"><span class="comment"># install necessary dependency for ecs-deploy</span></span><br><span class="line">add-apt-repository ppa:eugenesan/ppa</span><br><span class="line">apt-get update</span><br><span class="line">apt-get install jq -y</span><br><span class="line"></span><br><span class="line"><span class="comment"># install ecs-deploy</span></span><br><span class="line">curl https://raw.githubusercontent.com/silinternational/ecs-deploy/master/ecs-deploy | \</span><br><span class="line">  sudo tee -a /usr/bin/ecs-deploy</span><br><span class="line">sudo chmod +x /usr/bin/ecs-deploy</span><br><span class="line"></span><br><span class="line"><span class="comment"># login AWS ECR</span></span><br><span class="line"><span class="built_in">eval</span> $(aws ecr get-login --region us-east-1)</span><br><span class="line"></span><br><span class="line"><span class="comment"># or login DockerHub</span></span><br><span class="line"><span class="comment"># docker login --username $DOCKER_HUB_USER --password $DOCKER_HUB_PSW</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># build the docker image and push to an image repository</span></span><br><span class="line">docker build -t haoliangyu/ecs-auto-deploy .</span><br><span class="line">docker tag haoliangyu/ecs-auto-deploy:latest <span class="variable">$IMAGE_REPO_URL</span>:latest</span><br><span class="line">docker push <span class="variable">$IMAGE_REPO_URL</span>:latest</span><br><span class="line"></span><br><span class="line"><span class="comment"># update an AWS ECS service with the new image</span></span><br><span class="line">ecs-deploy -c <span class="variable">$CLUSTER_NAME</span> -n <span class="variable">$SERVICE_NAME</span> -i <span class="variable">$IMAGE_REPO_URL</span>:latest</span><br></pre></td></tr></tbody></table></figure><p>All <code>$VARIABLE_NAME</code> in the deployment script refer to an environment variable. Except <code>PATH</code> and <code>HOME</code>, which are provided by the operation system, you should provide the rest of them:</p><ul><li><code>IMAGE_REPO_URL</code> is the url of a docker image repository. It could be <a href="https://hub.docker.com/" target="_blank" rel="noopener">DockerHub</a> repository name or <a href="https://aws.amazon.com/ecr" target="_blank" rel="noopener">AWS ECR</a> repository url, or any other.</li><li><code>CLUSTER_NAME</code> is the name of the running ECS cluster.</li><li><code>SERVICE_NAME</code> is the name of the running ECS service.</li></ul><p>These values could be hard-coded, but using an environment variable makes the script more secure and portable.</p><p>Note that <code>ecs-deploy</code> deploys to an existing ECS service. If the specified service is not created, it will not try to new one and throw an error instead.</p><h2 id="Continuous-Deployment"><a href="#Continuous-Deployment" class="headerlink" title="Continuous Deployment"></a>Continuous Deployment</h2><p>With the deployment script discussed above, we can write the Travis CI configuration <code>.travis.yml</code>.</p><figure class="highlight yaml"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># I am using a nodejs for my demo application</span></span><br><span class="line"><span class="attr">language:</span> <span class="string">node_js</span></span><br><span class="line"><span class="attr">node_js:</span></span><br><span class="line"><span class="bullet">  -</span> <span class="string">"node"</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># include the docker service so that we can use the docker command in</span></span><br><span class="line"><span class="comment"># the deployment script</span></span><br><span class="line"><span class="attr">services:</span></span><br><span class="line"><span class="bullet">  -</span> <span class="string">docker</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># same as the official documentation</span></span><br><span class="line"><span class="attr">deploy:</span></span><br><span class="line"><span class="attr">  provider:</span> <span class="string">script</span></span><br><span class="line"><span class="attr">  script:</span> <span class="string">bash</span> <span class="string">deploy.sh</span></span><br><span class="line"><span class="attr">  on:</span></span><br><span class="line"><span class="attr">branch:</span> <span class="string">master</span></span><br></pre></td></tr></tbody></table></figure><p>The configuration is pretty much the same as the one from the documentation. It requires the <code>docker</code> service for the docker command line tool.</p><p>Then you should add required environment variables in the <code>Settings</code> page of the Travis repository. Additionally, <code>AWS_ACCESS_KEY_ID</code>, <code>AWS_SECRET_ACCESS_KEY</code>, and <code>AWS_DEFAULT_REGION</code> are needed to help accessing AWS.</p><img src="/blog/2018/03/19/AWS-ECS-auto-deployment-with-Travis-CI/travis-env.png" title="This is an example image"><h2 id="Final"><a href="#Final" class="headerlink" title="Final"></a>Final</h2><p>Wow, you are done here <span class="github-emoji" style="display:inline;vertical-align:middle;margin:0 3px;color:transparent;background:no-repeat url(https://github.githubassets.com/images/icons/emoji/unicode/1f389.png?v8) center/contain" data-src="https://github.githubassets.com/images/icons/emoji/unicode/1f389.png?v8">🎉</span> With this setting, you will have a continuous deployment pipeline that reacts to any PR merged into the master branch. And it deploys :-)</p><img src="/blog/2018/03/19/AWS-ECS-auto-deployment-with-Travis-CI/travis-deploy.png" title="This is an example image"><p>Thank you for reading this blog post. All code in this post could be found in this <a href="https://github.com/haoliangyu/ecs-auto-deploy" target="_blank" rel="noopener">GitHub repository</a> (<span class="github-emoji" style="display:inline;vertical-align:middle;margin:0 3px;color:transparent;background:no-repeat url(https://github.githubassets.com/images/icons/emoji/unicode/2b50.png?v8) center/contain" data-src="https://github.githubassets.com/images/icons/emoji/unicode/2b50.png?v8">⭐</span> it if it helps) and it is <a href="https://travis-ci.org/haoliangyu/ecs-auto-deploy" target="_blank" rel="noopener">working</a>.</p><script>document.querySelectorAll('.github-emoji')
          .forEach(el => {
            if (!el.dataset.src) { return; }
            const img = document.createElement('img');
            img.style = 'display:none !important;';
            img.src = el.dataset.src;
            img.addEventListener('error', () => {
              img.remove();
              el.style.color = 'inherit';
              el.style.backgroundImage = 'none';
              el.style.background = 'none';
            });
            img.addEventListener('load', () => {
              img.remove();
            });
            document.body.appendChild(img);
          });</script></div><footer class="post-footer"><div class="post-tags"><a href="/blog/tags/aws/" rel="tag"># aws</a> <a href="/blog/tags/ci/" rel="tag"># ci</a> <a href="/blog/tags/deloyment/" rel="tag"># deloyment</a></div><div class="post-nav"><div class="post-nav-next post-nav-item"><a href="/blog/2017/02/11/The-unofficial-documentation-for-ArcGIS-Open-Data-dataset-search-API/" rel="next" title="The unofficial documentation for ArcGIS Open Data APIs"><i class="fa fa-chevron-left"></i> The unofficial documentation for ArcGIS Open Data APIs</a></div><span class="post-nav-divider"></span><div class="post-nav-prev post-nav-item"><a href="/blog/2019/05/13/Tips-on-developing-cross-platform-Node-js-application/" rel="prev" title="Tips on developing cross-platform Node.js CLI application">Tips on developing cross-platform Node.js CLI application <i class="fa fa-chevron-right"></i></a></div></div></footer></div></article></div></div><div class="comments" id="comments"><div id="disqus_thread"><noscript>Please enable JavaScript to view the comments powered by Disqus.</noscript></div></div></div><div class="sidebar-toggle"><div class="sidebar-toggle-line-wrap"><span class="sidebar-toggle-line sidebar-toggle-line-first"></span> <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span> <span class="sidebar-toggle-line sidebar-toggle-line-last"></span></div></div><aside class="sidebar"><div class="sidebar-inner"><ul class="sidebar-nav motion-element"><li class="sidebar-nav-toc" data-target="post-toc-wrap">Table of Contents</li><li class="sidebar-nav-overview" data-target="site-overview-wrap">Overview</li></ul><div class="post-toc-wrap sidebar-panel"><div class="post-toc motion-element"><ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#Problem"><span class="nav-number">1.</span> <span class="nav-text">Problem</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Script-Deployment-in-Travis-CI"><span class="nav-number">2.</span> <span class="nav-text">Script Deployment in Travis CI</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Deployment-Script"><span class="nav-number">3.</span> <span class="nav-text">Deployment Script</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Continuous-Deployment"><span class="nav-number">4.</span> <span class="nav-text">Continuous Deployment</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Final"><span class="nav-number">5.</span> <span class="nav-text">Final</span></a></li></ol></div></div><div class="site-overview-wrap sidebar-panel"><div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person"><p class="site-author-name" itemprop="name">Haoliang Yu</p><div class="site-description" itemprop="description"></div></div><nav class="site-state motion-element"><div class="site-state-item site-state-posts"><a href="/blog/archives/"><span class="site-state-item-count">22</span> <span class="site-state-item-name">posts</span></a></div><div class="site-state-item site-state-categories"><span class="site-state-item-count">6</span> <span class="site-state-item-name">categories</span></div><div class="site-state-item site-state-tags"><span class="site-state-item-count">20</span> <span class="site-state-item-name">tags</span></div></nav><div class="feed-link motion-element"><a href="/blog/atom.xml" rel="alternate"><i class="fa fa-rss"></i>RSS</a></div><div class="links-of-author motion-element"><span class="links-of-author-item"><a href="https://github.com/haoliangyu" title="GitHub &rarr; https://github.com/haoliangyu" rel="noopener" target="_blank"><i class="fa fa-fw fa-github"></i>GitHub</a></span></div></div></div></aside><div id="sidebar-dimmer"></div></div></main><footer id="footer" class="footer"><div class="footer-inner"><div class="copyright">&copy; <span itemprop="copyrightYear">2019</span> <span class="with-love" id="animate"><i class="fa fa-user"></i> </span><span class="author" itemprop="copyrightHolder">Haoliang Yu</span></div><div class="powered-by">Powered by <a href="https://hexo.io" class="theme-link" rel="noopener" target="_blank">Hexo</a> v3.9.0</div><span class="post-meta-divider">|</span><div class="theme-info">Theme – <a href="https://theme-next.org" class="theme-link" rel="noopener" target="_blank">NexT.Muse</a> v7.3.0</div></div></footer></div><script src="/blog/lib/jquery/index.js?v=3.4.1"></script><script src="/blog/lib/velocity/velocity.min.js?v=1.2.1"></script><script src="/blog/lib/velocity/velocity.ui.min.js?v=1.2.1"></script><script src="/blog/js/utils.js?v=7.3.0"></script><script src="/blog/js/motion.js?v=7.3.0"></script><script src="/blog/js/schemes/muse.js?v=7.3.0"></script><script src="/blog/js/next-boot.js?v=7.3.0"></script><script src="/blog/js/local-search.js?v=7.3.0"></script><script>function loadCount(){var d=document,t=d.createElement("script");t.src="https://dz316424.disqus.com/count.js",t.id="dsq-count-scr",(d.head||d.body).appendChild(t)}window.addEventListener("load",loadCount,!1)</script><script>function disqus_config(){this.page.url="http://haoliangyu.github.io/blog/2018/03/19/AWS-ECS-auto-deployment-with-Travis-CI/",this.page.identifier="2018/03/19/AWS-ECS-auto-deployment-with-Travis-CI/",this.page.title="AWS ECS continuous deployment with Travis CI"}function loadComments(){if(window.DISQUS)DISQUS.reset({reload:!0,config:disqus_config});else{var t=document,e=t.createElement("script");e.src="https://dz316424.disqus.com/embed.js",e.setAttribute("data-timestamp",""+ +new Date),(t.head||t.body).appendChild(e)}}window.addEventListener("load",loadComments,!1)</script></body></html>